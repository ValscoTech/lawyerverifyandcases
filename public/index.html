<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Case Verification</title>
</head>
<body>
  <h1>Fetch Cases</h1>
  <form id="caseVerificationForm">
    <label for="court_code">Court Code:</label>
    <input type="text" id="court_code" name="court_code" required placeholder="Enter court code"><br><br>
    
    <label for="state_code">State Code:</label>
    <input type="text" id="state_code" name="state_code" required placeholder="Enter state code"><br><br>
    
    <label for="court_complex_code">Court Complex Code:</label>
    <input type="text" id="court_complex_code" name="court_complex_code" required placeholder="Enter court complex code"><br><br>
    
    <label for="caseStatusSearchType">Case Status Search Type:</label>
    <input type="text" id="caseStatusSearchType" name="caseStatusSearchType" required placeholder="e.g., CSpartyName"><br><br>
    
    <label for="captcha">Captcha:</label>
    <input type="text" id="captcha" name="captcha" required placeholder="Enter captcha"><br><br>
    
    <label for="f">Case Status (f):</label>
    <input type="text" id="f" name="f" required placeholder="e.g., Pending"><br><br>
    
    <label for="petres_name">Petitioner Name:</label>
    <input type="text" id="petres_name" name="petres_name" required placeholder="Enter petitioner name"><br><br>
    
    <label for="rgyear">Year (rgyear):</label>
    <input type="text" id="rgyear" name="rgyear" required placeholder="Enter year"><br><br>
    
    <button type="submit">Verify Case</button>
  </form>

  <pre id="result"></pre>

  <script>
    document.getElementById('caseVerificationForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());
      
      try {
        const res = await fetch('/api/case', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        const result = await res.json();
        document.getElementById('result').innerText = JSON.stringify(result, null, 2);
      } catch (error) {
        document.getElementById('result').innerText = 'Error: ' + error.message;
      }
    });
  </script>
</body>
</html>
